CREATE TABLE food_listings (
    id INT PRIMARY KEY AUTO_INCREMENT,
    biz_id INT,
    item_name VARCHAR(255),
    category VARCHAR(50),
    expiration_date DATE,
    pickup_time VARCHAR(255),
    pickup_location VARCHAR(255),
    special_notes TEXT,
    quantity INT,
    no_of_claims INT DEFAULT 0;
    max_exceeded ENUM ('yes', 'no') DEFAULT 'No';
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (biz_id) REFERENCES business(biz_id) ON DELETE CASCADE
);

module.exports.bizdashboard = async (req, res) => {
  try {
    const query = 'SELECT * FROM food_listings ORDER BY created_at DESC';
    
    // Promisify the database query for food listings
    const foodListings = await new Promise((resolve, reject) => {
      db.query(query, (err, results) => {
        if (err) return reject(err);
        resolve(results);
      });
    });

    if (foodListings.length === 0) {
      return res.render('dashboard', { pageTitle: 'User dashboard', foodListings: [], bizDetails: [] });
    }

    const bizId = req.session.biz_id;

    // Render the dashboard with the data
    res.render('bizdashboard', {
      pageTitle: 'Business dashboard',
      foodListings: foodListings,
    });
  } 
  
  catch (error) {
    console.error("Error fetching data:", error.message);
    res.status(500).json({ message: 'Error fetching data', error: error.message });
  }
}


<div class="listingTable bizTable">
  <table>
    <caption>Available food listings</caption>
    <thead>
      <tr>
        {{!-- <th>Business</th> --}}
        <th>Item Name</th>
        <th>Category</th>
        <th>Expiration Date</th>
        <th>Pickup Time</th>
        <th>Pickup Location</th>
        <th>Special Notes</th>
        <th>No. of claims</th>
        {{!-- <th>Action</th> --}}
      </tr>
    </thead>

    <tbody>
      {{#each foodListings}}
        <tr>
          {{!-- <td data-label="Business:">
            {{#each ../bizDetails}}
              {{this.name}}
            {{/each}}
          </td> --}}
          <td data-label="Item Name:">{{item_name}}</td>
          <td data-label="Category:">{{category}}</td>
          <td data-label="Expiration Date:">{{formatDate expiration_date}}</td>
          <td data-label="Pickup Time:">{{pickup_time}}</td>
          <td data-label="Pickup Location:">{{pickup_location}}</td>
          <td data-label="Special Notes:">{{special_notes}}</td>
          <td data-label="No. of claims:">{{no_of_claims}}</td>
          {{!-- <td data-label="Action:" class="actionBtns">
            {{#if claimed}}
              <a href="/unclaim/{{id}}" class="unclaim">Unclaim</a>
            {{else}}
              <a href="/claim/{{id}}" class="claim">Claim</a>
            {{/if}}
          </td> --}}
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>

I would like to render only the food items created by a particular business. I would also like the business to have a button to remove an item if no_of_claims => quantity of the food item. If no_of_claims => quantity of the food item, update the max_exceeded column accordingly.